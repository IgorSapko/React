(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,t,a){"use strict";a.r(t);var n=a("mXGw"),r=a.n(n),i=a("xARA"),o=a.n(i),c=(a("iPZ8"),a("kypl"),a("hi3g"),a("W0B4")),s=a.n(c);a("vJJZ");function l(e){var t=e.onSubmit;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:t},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})))}l.propTypes={onSubmit:s.a.func.isRequired};var u=l,m=function(e){var t=e.src,a=e.descr,n=e.closeWindowByClick;return t&&r.a.createElement("div",{className:"Overlay",onClick:n},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:a})))},p=m;function d(e){var t=e.children;return r.a.createElement("ul",{className:"ImageGallery"},t)}m.propTypes={src:s.a.string,descr:s.a.string,closeWindowByClick:s.a.func.isRequired},m.defaultProps={src:"",descr:"trere is should be description of this photo here"};a("lmye");var g=a("czhI"),f=a.n(g),h={APIKey:"17968712-6412cf5ccb97a4541594b82f1",numberOfPage:1,incrementPage:function(){this.numberOfPage+=1},resetPage:function(){this.numberOfPage=1},fetchImages:function(e){return f.a.get("https://pixabay.com/api/?q="+e+"&page="+this.numberOfPage+"&key="+this.APIKey+"&image_type=photo&orientation=horizontal&per_page=12").then((function(e){return e.data.hits}))}};function b(e){var t=e.data,a=e.getDataOfBigElement;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("li",{key:e.id,className:"ImageGalleryItem",onClick:function(){return a(e.largeImageURL,e.tags)}},r.a.createElement("img",{src:e.webformatURL,alt:e.tags,className:"ImageGalleryItem-image"}))})))}b.propTypes={data:s.a.arrayOf(s.a.shape({id:s.a.number.isRequired,largeImageURL:s.a.string,tags:s.a.string.isRequired,webformatURL:s.a.string})),getDataOfBigElement:s.a.func.isRequired},b.defaultProps={data:s.a.arrayOf(s.a.shape({largeImageURL:"https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/1200/public/media/image/2020/02/error-404-1862483.jpg?itok=MxyJKavN",webformatURL:"https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/1200/public/media/image/2020/02/error-404-1862483.jpg?itok=MxyJKavN"}))};var y=b,v=function(e){var t=e.callback;return r.a.createElement("button",{className:"Button",type:"button",onClick:t},"Load more...")},E=v;v.propTypes={callback:s.a.func.isRequired};var O=a("GkAX"),I=a.n(O);a("muz0");function w(){return r.a.createElement(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var B=function(e){var t,a;function n(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return S(k(t=e.call.apply(e,[this].concat(n))||this),"state",{isLoading:!1,valueOfInput:"",responce:[],dataOfBigImage:{src:"",description:""}}),S(k(t),"getDataOfBigElement",(function(e,a){t.setState({dataOfBigImage:{src:e,description:a}})})),S(k(t),"handleCloseOfModalWindowByClick",(function(e){t.setState({dataOfBigImage:{src:"",description:""}})})),S(k(t),"escFunction",(function(e){"Escape"===e.code&&t.state.dataOfBigImage.src&&t.setState({dataOfBigImage:{src:"",description:""}})})),S(k(t),"handleSubmit",(function(e){e.preventDefault();document.querySelector("input");var a=e.target.elements[1].value;a?t.setState({valueOfInput:a}):alert("Please enter Your request")})),S(k(t),"handleClick",(function(){t.setState({isLoading:!0});var e=t.state.valueOfInput;h.incrementPage(),h.fetchImages(e,h.numberOfPage).then((function(e){return t.setState((function(t){return{responce:[].concat(t.responce,e),isLoading:!1}}))}))})),t}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=n.prototype;return i.componentDidMount=function(){var e=document.querySelector("#root");console.log(e),e.addEventListener("keydown",this.escFunction)},i.componentDidUpdate=function(e,t){var a=this;t.responce!==this.state.responce&&0!==t.responce.length&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});var n=this.state,r=n.valueOfInput;n.isLoading;t.valueOfInput!==r&&r&&(h.resetPage(),this.setState({isLoading:!0}),h.fetchImages(r,h.numberOfPage).then((function(e){return a.setState({responce:e,isLoading:!1})})))},i.componentWillUnmount=function(){document.removeEventListener("keydown",this.escFunction)},i.render=function(){var e=this.state,t=e.responce,a=e.isLoading;return r.a.createElement("div",null,r.a.createElement(u,{onSubmit:this.handleSubmit}),a?r.a.createElement(w,null):r.a.createElement(d,null,r.a.createElement(y,{data:t,getDataOfBigElement:this.getDataOfBigElement})),r.a.createElement(p,{src:this.state.dataOfBigImage.src,descr:this.state.dataOfBigImage.description,closeWindowByClick:this.handleCloseOfModalWindowByClick}),t.length>0&&r.a.createElement(E,{callback:this.handleClick}))},n}(n.Component);o.a.render(r.a.createElement(B,null),document.getElementById("root"))},vJJZ:function(e,t,a){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.09744dc5ebef551f3e5d.js.map